# ================================
# Spring Boot 基础配置
# ================================
spring.profiles.active=@profileActive@
# ================================
# 任务执行器配置
# ================================
spring.task.execution.threadNamePrefix=univ-excute-
spring.task.execution.pool.core-size=2
spring.task.execution.pool.max-size=10
spring.task.execution.pool.queue-capacity=10
spring.task.execution.pool.keep-alive=10s
# ================================
# MyBatis 配置
# ================================
mybatis.configuration.map-underscore-to-camel-case=true
# ================================
# 数据库连接池配置
# ================================
druid.mysql.usePingMethod=false
# ================================
# Spring MVC 配置
# ================================
# 启用隐藏方法过滤器（解决上传图片失败问题）
spring.mvc.hiddenmethod.filter.enabled=true
# ================================
# Quartz 调度器配置
# ================================
spring.quartz.scheduler-name=UnivScheduler
spring.quartz.startup-delay=1s
spring.quartz.overwrite-existing-jobs=true
spring.quartz.auto-startup=true
spring.quartz.job-store-type=JDBC
# Quartz 属性配置
spring.quartz.properties.org.quartz.scheduler.instanceName=UnivScheduler
spring.quartz.properties.org.quartz.scheduler.instanceId=AUTO
spring.quartz.properties.org.quartz.scheduler.batchTriggerAcquisitionMaxCount=5
# 线程池配置
spring.quartz.properties.org.quartz.threadPool.class=org.quartz.simpl.SimpleThreadPool
spring.quartz.properties.org.quartz.threadPool.threadCount=20
spring.quartz.properties.org.quartz.threadPool.threadPriority=5
# JobStore 配置
spring.quartz.properties.org.quartz.jobStore.class=org.springframework.scheduling.quartz.LocalDataSourceJobStore
spring.quartz.properties.org.quartz.jobStore.isClustered=true
spring.quartz.properties.org.quartz.jobStore.clusterCheckinInterval=150000
spring.quartz.properties.org.quartz.jobStore.txIsolationLevelSerializable=false
spring.quartz.properties.org.quartz.jobStore.misfireThreshold=600000
spring.quartz.properties.org.quartz.jobStore.tablePrefix=qrtz_
spring.quartz.properties.org.quartz.jobStore.acquireTriggersWithinLock=true
spring.quartz.properties.org.quartz.jobStore.dataSource=quartzDs
# ================================
# XSS 防护配置
# ================================
# Spring 配置
# ================================
spring.main.allow-circular-references=true
# ================================
# 安全配置
# ================================
spring.security.oauth2.resourceserver.jwt.issuer-uri=http://localhost:9091
# ================================
# 监控配置
# ================================
# 启用虚拟线程监控
management.endpoints.web.exposure.include=health,info,metrics,prometheus
management.metrics.tags.application=cn-universal
management.prometheus.metrics.export.enabled=true
# ================================
# Lombok 配置
# ================================
lombok.experimental.superBuilder=true
# ================================
# 日志配置
# ================================
# 抑制 commons-logging 警告
logging.level.org.springframework.jcl=OFF
logging.level.org.apache.commons.logging=OFF
logging.level.org.apache.commons.logging.impl=OFF
